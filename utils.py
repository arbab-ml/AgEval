import re
import json
import base64
from PIL import Image
import io
from tqdm import tqdm

def extract_json(s):
    # ... (keep the entire extract_json function as is)

def load_image(image_path: str) -> str:
    # ... (keep the entire load_image function as is)

class RateLimiter:
    # ... (keep the entire RateLimiter class as is)

class ProgressBar:
    # ... (keep the entire ProgressBar class as is)